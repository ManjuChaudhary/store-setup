  <link rel="stylesheet" href="{{ 'component-card.css' | asset_url }}" media="print" onload="this.media='all'">
  <noscript>{{ 'component-card.css' | asset_url | stylesheet_tag }}</noscript>
  {% assign collection_grid_type = section.settings.collection_grid_type %}
  {% assign productExcludeTag = settings.product_exclude_tag_text %}
  <section class="section-content overflow-hidden {{ collection_grid_type }}" data-section-id="{{ section.id }}" data-grid-type="{{ collection_grid_type }}" style="background-color: {{ section.settings.section_bg_color }}; color: {{ section.settings.section_txt_color }};">
      <div class="{% if section.settings.fluid_layout %}container-fluid{% else %}container{% endif %}" {% if collection_grid_type == 'grid' %}data-type="slider"{%endif %}>
          {% if section.settings.heading_txt != blank or section.settings.lead_txt != blank %}
              <div class="row align-items-end mb-md-6 mb-5">
                  <div class="col-6 col-md-8 me-auto pe-0">
                      {% if section.settings.lead_txt != blank %}
                          <p class="mb-md-1 mb-2 section-sub-title text-uppercase fw-medium" style="letter-spacing: 0.15em;line-height: 1.214285714285714;">
                              {{ section.settings.lead_txt }}
                          </p>
                      {% endif %}
                      {% if section.settings.heading_txt != blank %}
                          <h2 class="section-title mb-0">{{ section.settings.heading_txt | escape }}</h2>
                      {% endif %}
                  </div>
                  {% if section.settings.shop_all_button_text != blank %}
                  <div class="col-6 col-md-4 ms-auto ps-1 text-end pb-1">
                      <a href="{{ section.settings.shop_all_button_link }}" class="btn-link text-decoration-none">{{ section.settings.shop_all_button_text }}</a>
                  </div>
                  {% endif %}
              </div>
          {% endif %}
        {% if section.settings.home_featured_collection == blank or collections[section.settings.home_featured_collection] == empty or collections[section.settings.home_featured_collection].products_count == 0 %}
          {%- liquid 
            unless emptyState
              assign emptyState = true
            endunless
            render 'onboarding-featured-products'
          -%}
        {% else %}
              <slider-element class="swiper-container carousel d-block  position-relative {% if section.settings.nav_arrows_outside %}arrow-outside{% endif %}">
                  <div class="swiper swiper-slider featured-collection-slider card-carousel" data-slider='{
                        "loop": false,
                        "slidesPerView": "auto",
                        "spaceBetween": 15,
                        "shortSwipes": false,
                        "grabCursor": true,
                        "breakpoints": {
                        "320":{
                             "spaceBetween": 15,
                               "slidesPerView": "2"
                        },
                        "500": {
                              "spaceBetween": 15,
                              "slidesPerView": "3"
                          },
                           "992": {
                              "spaceBetween": 15,
                              "slidesPerView": "4"
                          }
                        },
                        "navigation": {
                            "nextEl": ".collection-style-5-next",
                            "prevEl": ".collection-style-5-prev"
                        },
                        "pagination": {
                          "el": ".swiper-pagination",
                          "clickable": true
                       }
                    }'>
                      <div class="swiper-wrapper">
                          {% for product in collections[section.settings.home_featured_collection].products limit: 8 %}
                              {% unless product.tags contains productExcludeTag %}
                                  <div class="swiper-slide collection-style-5">
                                      {% render 'card-product-style-generic', product: product %}
                                  </div>
                              {% endunless %}
                          {% endfor %}
                      </div>
                   <div class="swiper-pagination d-none"></div>

                  </div>
                  {% if section.settings.nav_arrows %}
                      <div class="swiper-button-next collection-style-5-next d-none d-lg-block">
                         {% render 'icon-right-arrow'%}
                      </div>
                      <div class="swiper-button-prev collection-style-5-prev  d-none d-lg-block">
                       {% render 'icon-left-arrow'%}
                      </div>
                  {% endif %}
              </slider-element>
        {% endif %}
      </div>
  </section>
  <style>
    .swiper-slide.collection-style-5{
      width: 315px;
  }
  </style>
  {% schema %}
      {
          "name": "Featured Collection",
          "tag": "section",
          "class": "index-featured-collection",
          "settings": [
          {
              "type": "header",
              "content": "Layout"
          },
          {
              "type": "checkbox",
              "id": "fluid_layout",
              "label": "Full Width Layout?",
              "default": false
          },
          {
              "type": "select",
              "id": "collection_grid_type",
              "label": "Number of Grid",
              "options": [
                  {
                      "value": "",
                      "label": "3"
                  },
                  {
                      "value": "grid-4",
                      "label": "4"
                  }
              ],
              "default": ""
          },
          {
              "type": "checkbox",
              "id": "nav_dots",
              "label": "Dots Navigation",
              "default": true
          },
          {
              "type": "checkbox",
              "id": "nav_arrows",
              "label": "Arrows Navigation",
              "default": true
          },
          {
              "type": "checkbox",
              "id": "nav_arrows_outside",
              "label": "Navigation Arrow Outside",
              "default": false
          },
          {
              "type": "header",
              "content": "Content"
          },
          {
              "type": "textarea",
              "id": "heading_txt",
              "label": "Heading Text",
              "default": "Featured Collection"
          },
          {
              "type": "textarea",
              "id": "lead_txt",
              "label": "Lead Text"
          },
          {
              "type": "header",
              "content": "Collection"
          },
          {
              "type": "collection",
              "id": "home_featured_collection",
              "label": "Select Collection"
          },
          {
              "type": "header",
              "content": "Shop Button"
          },
          {
              "type": "text",
              "id": "shop_all_button_text",
              "label": "Button Text"
          },
          {
              "type": "url",
              "id": "shop_all_button_link",
              "label": "Button Link"
          },
          {
              "type": "header",
              "content": "Styling"
          },
          {
              "type": "color",
              "id": "section_bg_color",
              "label": "Background Color",
              "default": "#ffffff"
          },
          {
              "type": "color",
              "id": "section_txt_color",
              "label": "Text Color",
              "default": "#222222"
          }
          ],
          "presets": [
              {
                  "name": "Featured Collection",
                  "category": "Collection"
              }
          ]
      }
  {% endschema %}